# Comper

Comper is a backing track generator for jazz songs.

## Samples
Samples hosted on Soundcloud [here](https://soundcloud.com/joseph-tan-486477918/sets/automatically-generated-backing-tracks)

Generated by using the sample progressions in the [sample_progressions](sample_progressions) folder and the style in the [sample_style_files](sample_style_files) folder and then converted into MP3 using [fluidsynth](https://www.fluidsynth.org/) and the [Fluid Release 3 General-MIDI Soundfont](https://member.keymusician.com/Member/FluidR3_GM/index.html).

## Building

Qt/qmake are required for building \
Build by making a build directory(i.e. `build/`), run `qmake` in that directory, and then use `make` to build the desired target. An executable named `comper` will be generated

Example:

```bash
mkdir build && cd build
qmake ..
make
```

## Usage
General usage of comper is of the form `comper <style file> <progression file> <output file> <bpm> <repetitions>` where `<style file>` is the path to the style file, `<progression file>` is a path to the progression file, `<output file>` is the name of the output file to be created, `<bpm>` is an integer representing the beats per minute of the song, and `<repetitions>` is the number of times to repeat the chord progression. The generated backing tracking is saved to `backing.mid`

## File formats
### Progression file
The progression file should be of the format
```
D- b9 b13 4
G7 4
Cmaj 8
```
Where each line consists of a chord and then the number of beats it has.

### Style File
*Based on [Impro-Visor's](https://www.cs.hmc.edu/~keller/jazz/improvisor/) approach*

A sample style file is provided in the [sample_style_files](sample_style_files) folder that should work for most use cases.
See [style file specification](style.md) for more details if you want to create your own or modify the provided one.
